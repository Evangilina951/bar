<html>
<head>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
  <script src="app.js"></script>
  <style>
    .hidden { display: none; }
    .ingredient-row { margin-bottom: 10px; }
    #ingredients-container input { margin-right: 10px; }
    button { margin: 5px; padding: 5px 10px; }
    nav a { margin-right: 15px; text-decoration: none; color: #000; }
    nav button { margin-left: 15px; }
  </style>
</head>
<body>
  <div id="nav"></div>

  <h1>Управление меню</h1>

  <div>
    <button id="show-dish-form" onclick="showDishForm()">Добавить блюдо</button>
    <button id="show-category-form" onclick="showCategoryForm()">Добавить категорию</button>
  </div>

  <div id="dish-form" class="hidden">
    <h2>Добавить/Редактировать блюдо</h2>
    <input type="text" id="dish-name" placeholder="Название"><br>
    <textarea id="dish-description" placeholder="Описание"></textarea><br>
    <input type="number" id="dish-price" placeholder="Цена ($)" step="0.01"><br>
    <select id="dish-category">
      <option value="">Выберите категорию</option>
    </select><br>
    <input type="text" id="dish-image" placeholder="URL изображения"><br>
    <input type="number" id="dish-weight" placeholder="Вес (г)" step="0.1"><br>
    <input type="number" id="dish-min-portions" placeholder="Мин. порций" step="1"><br>
    <input type="checkbox" id="dish-active"> Активно<br>
    <div id="ingredients-container">
      <div class="ingredient-row">
        <input type="text" id="ingredient-search-0" class="border p-2 mr-2 w-2/3 rounded" placeholder="Введите название ингредиента" list="ingredient-options">
        <datalist id="ingredient-options"></datalist>
        <input type="number" class="dish-ingredient-quantity border p-2 w-1/3 rounded" placeholder="Количество" min="0" step="0.1">
        <button onclick="removeIngredientRow(this)" class="bg-red-600 text-white p-1 rounded ml-2">Удалить</button>
      </div>
    </div>
    <button onclick="addIngredientRow()">Добавить ингредиент</button><br>
    <button id="dish-form-button" onclick="addDish()">Добавить блюдо</button>
    <button onclick="cancelDishForm()">Отмена</button>
  </div>

  <div id="category-form" class="hidden">
    <h2>Добавить/Редактировать категорию</h2>
    <input type="text" id="category-name" placeholder="Название"><br>
    <input type="number" id="category-number" placeholder="Порядок" step="1"><br>
    <input type="checkbox" id="category-visible"> Видимость<br>
    <button id="category-form-button" onclick="addCategory()">Добавить категорию</button>
    <button onclick="cancelCategoryForm()">Отмена</button>
  </div>

  <div>
    <input type="checkbox" id="show-inactive-categories" onchange="loadCategoryList()"> Показать неактивные категории<br>
    <div id="categories-list"></div>
  </div>

  <div id="dishes-list"></div>
</body>
</html>
